# 03. Ruff Linter: 똑똑한 코드 문법 검사기

**린터**(Linter)란, 우리가 글을 쓸 때 맞춤법 검사기가 문법 오류나 오타를 찾아주는 것처럼, **코드를 분석해서 잠재적인 버그, 스타일 오류, 좋지 않은 코드 패턴 등을 찾아주는 도구**입니다.

`Ruff`의 Linter는 이 과정을 믿을 수 없는 속도로 수행하여, 개발자가 실수를 빠르게 발견하고 더 높은 품질의 코드를 작성하도록 돕습니다.

### 학습 목표

-   Linter의 역할과 필요성을 이해합니다.
-   `ruff check` 명령어로 코드의 문제점을 검사할 수 있습니다.
-   `--fix` 옵션을 사용하여 간단한 문제들을 자동으로 수정할 수 있습니다.
-   `# noqa` 주석을 사용하여 특정 라인의 경고를 의도적으로 무시하는 방법을 배웁니다.

![](https://subicura.com/assets/article_images/2016-07-11-coding-convention/civil_war.jpg)
---

### 1. Linter는 왜 필요한가요?

-   **버그 예방**: 사용하지 않는 변수, 잘못된 `import` 등 실행 시점에서야 발견될 수 있는 오류들을 코드를 실행하기 전에 미리 찾아줍니다.
-   **코드 품질 향상**: 복잡하고 읽기 어려운 코드 패턴을 지적하여 더 깔끔하고 유지보수하기 좋은 코드를 작성하도록 유도합니다.
-   **팀의 코딩 스타일 통일**: 정해진 규칙에 따라 모든 팀원이 일관된 스타일로 코드를 작성하게 하여 협업 효율을 높입니다.

---

### 2. Linter 사용하기: `ruff check`

`Ruff`의 Linter 기능은 `ruff check` 명령어로 실행합니다. 이 명령어는 현재 디렉터리와 하위 디렉터리의 모든 Python 파일을 검사하여 문제점을 보고합니다.

```bash
# uv를 통해 ruff 실행
uv run ruff check .
```

만약 코드에 문제가 있다면, `Ruff`는 어떤 파일의 몇 번째 줄에 어떤 규칙(예: `F401`)을 위반했는지 상세히 알려줍니다.

#### 자동으로 수정하기: `--fix` 옵션

`Ruff`는 Linter가 찾아낸 문제 중 상당수를 자동으로 수정할 수 있습니다. 예를 들어 "사용하지 않는 import"가 있다면 해당 라인을 자동으로 삭제해줍니다.

```bash
# 검사와 동시에 자동 수정 실행
uv run ruff check . --fix
```
개발 과정에서는 `--fix` 옵션을 습관처럼 사용하는 것을 권장합니다.

---

### 3. 경고 무시하기: `# noqa`

때로는 Linter의 경고가 틀렸거나, 의도적으로 작성한 코드라서 무시하고 싶을 때가 있습니다. 이때 `# noqa` (no quality assurance의 약자)라는 특별한 주석을 사용합니다.

#### 특정 오류만 무시하기

경고가 발생한 코드 라인의 끝에 `# noqa: <규칙코드>`를 추가하면 해당 규칙에 대한 경고만 무시합니다.

```python
# F841: 할당되었지만 사용되지 않는 변수 경고를 무시함
def process_data():
    data = fetch_data() # noqa: F841
    # 지금은 사용하지 않지만, 나중에 디버깅을 위해 남겨두고 싶을 때
```

#### 한 줄의 모든 오류 무시하기

규칙 코드를 명시하지 않고 `# noqa`만 사용하면, 해당 라인에서 발생하는 모든 Linter 경고를 무시합니다.

```python
complex_result = some_very_long_function_call(a, b, c, d, e, f, g) # noqa
```

`# noqa`는 꼭 필요한 경우에만 최소한으로 사용하여, Linter가 주는 유용한 피드백을 놓치지 않도록 주의해야 합니다.

---

**참고 문서**
- [Ruff 공식 Linter 가이드](https://docs.astral.sh/ruff/linter/)

**다음 세션**: [04. Ruff Formatter: 일관된 코드 스타일리스트](./../04-formatter/README.md)
